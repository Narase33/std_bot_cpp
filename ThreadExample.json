[
    {
        "data": {
            "after": null,
            "before": null,
            "children": [
                {
                    "data": {
                        "all_awardings": [],
                        "allow_live_comments": false,
                        "approved_at_utc": null,
                        "approved_by": null,
                        "archived": false,
                        "author": "ElenaFurniture",
                        "author_flair_background_color": null,
                        "author_flair_css_class": null,
                        "author_flair_richtext": [],
                        "author_flair_template_id": null,
                        "author_flair_text": null,
                        "author_flair_text_color": null,
                        "author_flair_type": "text",
                        "author_fullname": "t2_9pz8ulcl",
                        "author_is_blocked": false,
                        "author_patreon_flair": false,
                        "author_premium": false,
                        "awarders": [],
                        "banned_at_utc": null,
                        "banned_by": null,
                        "can_gild": true,
                        "can_mod_post": false,
                        "category": null,
                        "clicked": false,
                        "content_categories": null,
                        "contest_mode": false,
                        "created": 1630826824.0,
                        "created_utc": 1630826824.0,
                        "discussion_type": null,
                        "distinguished": null,
                        "domain": "self.cpp_questions",
                        "downs": 0,
                        "edited": false,
                        "gilded": 0,
                        "gildings": {},
                        "hidden": false,
                        "hide_score": false,
                        "id": "pi8lhg",
                        "is_created_from_ads_ui": false,
                        "is_crosspostable": true,
                        "is_meta": false,
                        "is_original_content": false,
                        "is_reddit_media_domain": false,
                        "is_robot_indexable": true,
                        "is_self": true,
                        "is_video": false,
                        "likes": null,
                        "link_flair_background_color": "",
                        "link_flair_css_class": "open",
                        "link_flair_richtext": [],
                        "link_flair_text": "OPEN",
                        "link_flair_text_color": "dark",
                        "link_flair_type": "text",
                        "locked": false,
                        "media": null,
                        "media_embed": {},
                        "media_only": false,
                        "mod_note": null,
                        "mod_reason_by": null,
                        "mod_reason_title": null,
                        "mod_reports": [],
                        "name": "t3_pi8lhg",
                        "no_follow": true,
                        "num_comments": 4,
                        "num_crossposts": 0,
                        "num_duplicates": 0,
                        "num_reports": null,
                        "over_18": false,
                        "parent_whitelist_status": "all_ads",
                        "permalink": "/r/cpp_questions/comments/pi8lhg/how_do_i_check_if_a_pointer_is_valid/",
                        "pinned": false,
                        "pwls": 6,
                        "quarantine": false,
                        "removal_reason": null,
                        "removed_by": null,
                        "removed_by_category": null,
                        "report_reasons": null,
                        "saved": false,
                        "score": 1,
                        "secure_media": null,
                        "secure_media_embed": {},
                        "selftext": "I need to read memory from a pointer.\n\nBut this pointer does not always point to something. Sometimes its broken and points to nothing.\n\nI need to check if this pointer is pointing to a proper address.\n\n    ReadProcessMemory(handle, (BYTE*)(base + 0x2B3408C), &amp;checkThis1, sizeof(checkThis), 0);\n    ReadProcessMemory(handle, (BYTE*)(checkThis1 + 0x5C), &amp;checkThis2, sizeof(checkThis2), 0);\n    ReadProcessMemory(handle, (BYTE*)(checkThis2 + 0x3a), &amp;finalCheck, sizeof(finalCheck), 0);\n\nSo how do i check if this pointer is not just broken?",
                        "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I need to read memory from a pointer.&lt;/p&gt;\n\n&lt;p&gt;But this pointer does not always point to something. Sometimes its broken and points to nothing.&lt;/p&gt;\n\n&lt;p&gt;I need to check if this pointer is pointing to a proper address.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ReadProcessMemory(handle, (BYTE*)(base + 0x2B3408C), &amp;amp;checkThis1, sizeof(checkThis), 0);\nReadProcessMemory(handle, (BYTE*)(checkThis1 + 0x5C), &amp;amp;checkThis2, sizeof(checkThis2), 0);\nReadProcessMemory(handle, (BYTE*)(checkThis2 + 0x3a), &amp;amp;finalCheck, sizeof(finalCheck), 0);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So how do i check if this pointer is not just broken?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;",
                        "send_replies": true,
                        "spoiler": false,
                        "stickied": false,
                        "subreddit": "cpp_questions",
                        "subreddit_id": "t5_2tdbd",
                        "subreddit_name_prefixed": "r/cpp_questions",
                        "subreddit_subscribers": 48110,
                        "subreddit_type": "public",
                        "suggested_sort": null,
                        "thumbnail": "self",
                        "thumbnail_height": null,
                        "thumbnail_width": null,
                        "title": "How do i check if a pointer is valid?",
                        "top_awarded_type": null,
                        "total_awards_received": 0,
                        "treatment_tags": [],
                        "ups": 1,
                        "upvote_ratio": 0.67,
                        "url": "https://www.reddit.com/r/cpp_questions/comments/pi8lhg/how_do_i_check_if_a_pointer_is_valid/",
                        "user_reports": [],
                        "view_count": null,
                        "visited": false,
                        "whitelist_status": "all_ads",
                        "wls": 6
                    },
                    "kind": "t3"
                }
            ],
            "dist": 1,
            "geo_filter": "",
            "modhash": null
        },
        "kind": "Listing"
    },
    {
        "data": {
            "after": null,
            "before": null,
            "children": [
                {
                    "data": {
                        "all_awardings": [],
                        "approved_at_utc": null,
                        "approved_by": null,
                        "archived": false,
                        "associated_award": null,
                        "author": "Narase33",
                        "author_flair_background_color": null,
                        "author_flair_css_class": null,
                        "author_flair_richtext": [],
                        "author_flair_template_id": null,
                        "author_flair_text": null,
                        "author_flair_text_color": null,
                        "author_flair_type": "text",
                        "author_fullname": "t2_mq5tvq",
                        "author_is_blocked": false,
                        "author_patreon_flair": false,
                        "author_premium": false,
                        "awarders": [],
                        "banned_at_utc": null,
                        "banned_by": null,
                        "body": "You cant. You can only check if its pointing to nullptr. If its not a nullptr it may be valid or may not and you will have no way of finding out\n\nThe error in first place is getting an invalid pointer, this just should never happen",
                        "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You cant. You can only check if its pointing to nullptr. If its not a nullptr it may be valid or may not and you will have no way of finding out&lt;/p&gt;\n\n&lt;p&gt;The error in first place is getting an invalid pointer, this just should never happen&lt;/p&gt;\n&lt;/div&gt;",
                        "can_gild": true,
                        "can_mod_post": false,
                        "collapsed": false,
                        "collapsed_because_crowd_control": null,
                        "collapsed_reason": null,
                        "collapsed_reason_code": null,
                        "comment_type": null,
                        "controversiality": 0,
                        "created": 1630827499.0,
                        "created_utc": 1630827499.0,
                        "depth": 0,
                        "distinguished": null,
                        "downs": 0,
                        "edited": false,
                        "gilded": 0,
                        "gildings": {},
                        "id": "hbnwjfe",
                        "is_submitter": false,
                        "likes": null,
                        "link_id": "t3_pi8lhg",
                        "locked": false,
                        "mod_note": null,
                        "mod_reason_by": null,
                        "mod_reason_title": null,
                        "mod_reports": [],
                        "name": "t1_hbnwjfe",
                        "no_follow": false,
                        "num_reports": null,
                        "parent_id": "t3_pi8lhg",
                        "permalink": "/r/cpp_questions/comments/pi8lhg/how_do_i_check_if_a_pointer_is_valid/hbnwjfe/",
                        "removal_reason": null,
                        "replies": "",
                        "report_reasons": null,
                        "saved": false,
                        "score": 6,
                        "score_hidden": false,
                        "send_replies": true,
                        "stickied": false,
                        "subreddit": "cpp_questions",
                        "subreddit_id": "t5_2tdbd",
                        "subreddit_name_prefixed": "r/cpp_questions",
                        "subreddit_type": "public",
                        "top_awarded_type": null,
                        "total_awards_received": 0,
                        "treatment_tags": [],
                        "ups": 6,
                        "user_reports": []
                    },
                    "kind": "t1"
                },
                {
                    "data": {
                        "all_awardings": [],
                        "approved_at_utc": null,
                        "approved_by": null,
                        "archived": false,
                        "associated_award": null,
                        "author": "no-sig-available",
                        "author_flair_background_color": null,
                        "author_flair_css_class": null,
                        "author_flair_richtext": [],
                        "author_flair_template_id": null,
                        "author_flair_text": null,
                        "author_flair_text_color": null,
                        "author_flair_type": "text",
                        "author_fullname": "t2_3bx2t91n",
                        "author_is_blocked": false,
                        "author_patreon_flair": false,
                        "author_premium": false,
                        "awarders": [],
                        "banned_at_utc": null,
                        "banned_by": null,
                        "body": "&gt;I need to check if this pointer is pointing to a proper address.\n\nThe problem is that a memory address is there all the time. It doesn't come and go with the variable stored there.\n\nFor example, after \n\n    int* x = new int[42];\n    int* y = x;\n    delete[] x;\n\nthe pointer value in y doesn't change at the third line, but the array stored at that location is gone. And there is no way to look at a memory address and see if the things stored there are still valid. You have to keep track in the code.",
                        "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;I need to check if this pointer is pointing to a proper address.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The problem is that a memory address is there all the time. It doesn&amp;#39;t come and go with the variable stored there.&lt;/p&gt;\n\n&lt;p&gt;For example, after &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;int* x = new int[42];\nint* y = x;\ndelete[] x;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;the pointer value in y doesn&amp;#39;t change at the third line, but the array stored at that location is gone. And there is no way to look at a memory address and see if the things stored there are still valid. You have to keep track in the code.&lt;/p&gt;\n&lt;/div&gt;",
                        "can_gild": true,
                        "can_mod_post": false,
                        "collapsed": false,
                        "collapsed_because_crowd_control": null,
                        "collapsed_reason": null,
                        "collapsed_reason_code": null,
                        "comment_type": null,
                        "controversiality": 0,
                        "created": 1630828525.0,
                        "created_utc": 1630828525.0,
                        "depth": 0,
                        "distinguished": null,
                        "downs": 0,
                        "edited": false,
                        "gilded": 0,
                        "gildings": {},
                        "id": "hbnxqu9",
                        "is_submitter": false,
                        "likes": null,
                        "link_id": "t3_pi8lhg",
                        "locked": false,
                        "mod_note": null,
                        "mod_reason_by": null,
                        "mod_reason_title": null,
                        "mod_reports": [],
                        "name": "t1_hbnxqu9",
                        "no_follow": false,
                        "num_reports": null,
                        "parent_id": "t3_pi8lhg",
                        "permalink": "/r/cpp_questions/comments/pi8lhg/how_do_i_check_if_a_pointer_is_valid/hbnxqu9/",
                        "removal_reason": null,
                        "replies": "",
                        "report_reasons": null,
                        "saved": false,
                        "score": 4,
                        "score_hidden": false,
                        "send_replies": true,
                        "stickied": false,
                        "subreddit": "cpp_questions",
                        "subreddit_id": "t5_2tdbd",
                        "subreddit_name_prefixed": "r/cpp_questions",
                        "subreddit_type": "public",
                        "top_awarded_type": null,
                        "total_awards_received": 0,
                        "treatment_tags": [],
                        "ups": 4,
                        "user_reports": []
                    },
                    "kind": "t1"
                },
                {
                    "data": {
                        "all_awardings": [],
                        "approved_at_utc": null,
                        "approved_by": null,
                        "archived": false,
                        "associated_award": null,
                        "author": "Shieldfoss",
                        "author_flair_background_color": null,
                        "author_flair_css_class": null,
                        "author_flair_richtext": [],
                        "author_flair_template_id": null,
                        "author_flair_text": null,
                        "author_flair_text_color": null,
                        "author_flair_type": "text",
                        "author_fullname": "t2_101se8",
                        "author_is_blocked": false,
                        "author_patreon_flair": false,
                        "author_premium": false,
                        "awarders": [],
                        "banned_at_utc": null,
                        "banned_by": null,
                        "body": "Tell the guy giving you the pointer to Do Better, by either passing along validity info, or guaranteeing the pointer will be in the set of {nullptr, valid}.",
                        "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Tell the guy giving you the pointer to Do Better, by either passing along validity info, or guaranteeing the pointer will be in the set of {nullptr, valid}.&lt;/p&gt;\n&lt;/div&gt;",
                        "can_gild": true,
                        "can_mod_post": false,
                        "collapsed": false,
                        "collapsed_because_crowd_control": null,
                        "collapsed_reason": null,
                        "collapsed_reason_code": null,
                        "comment_type": null,
                        "controversiality": 0,
                        "created": 1630829221.0,
                        "created_utc": 1630829221.0,
                        "depth": 0,
                        "distinguished": null,
                        "downs": 0,
                        "edited": false,
                        "gilded": 0,
                        "gildings": {},
                        "id": "hbnykdz",
                        "is_submitter": false,
                        "likes": null,
                        "link_id": "t3_pi8lhg",
                        "locked": false,
                        "mod_note": null,
                        "mod_reason_by": null,
                        "mod_reason_title": null,
                        "mod_reports": [],
                        "name": "t1_hbnykdz",
                        "no_follow": true,
                        "num_reports": null,
                        "parent_id": "t3_pi8lhg",
                        "permalink": "/r/cpp_questions/comments/pi8lhg/how_do_i_check_if_a_pointer_is_valid/hbnykdz/",
                        "removal_reason": null,
                        "replies": "",
                        "report_reasons": null,
                        "saved": false,
                        "score": 1,
                        "score_hidden": false,
                        "send_replies": true,
                        "stickied": false,
                        "subreddit": "cpp_questions",
                        "subreddit_id": "t5_2tdbd",
                        "subreddit_name_prefixed": "r/cpp_questions",
                        "subreddit_type": "public",
                        "top_awarded_type": null,
                        "total_awards_received": 0,
                        "treatment_tags": [],
                        "ups": 1,
                        "user_reports": []
                    },
                    "kind": "t1"
                },
                {
                    "data": {
                        "all_awardings": [],
                        "approved_at_utc": null,
                        "approved_by": null,
                        "archived": false,
                        "associated_award": null,
                        "author": "IyeOnline",
                        "author_flair_background_color": null,
                        "author_flair_css_class": null,
                        "author_flair_richtext": [],
                        "author_flair_template_id": null,
                        "author_flair_text": null,
                        "author_flair_text_color": null,
                        "author_flair_type": "text",
                        "author_fullname": "t2_w51yt",
                        "author_is_blocked": false,
                        "author_patreon_flair": false,
                        "author_premium": false,
                        "awarders": [],
                        "banned_at_utc": null,
                        "banned_by": null,
                        "body": "Within the language there is pretty much nothing you can do. The best hope is to compile with address sanitizer, which would crash the program if an invalid pointer was dereferenced.\n\nThe only other thing you can do is check if the pointer would be a valid pointer for the expected type. A `char*` can point to 1 byte boundaries, an `int*` however only to 4 byte boundaries and so on. If you dont know any types, there is nothing you can do.\n\nAlso get rid of those magic numbers. Give them names.",
                        "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Within the language there is pretty much nothing you can do. The best hope is to compile with address sanitizer, which would crash the program if an invalid pointer was dereferenced.&lt;/p&gt;\n\n&lt;p&gt;The only other thing you can do is check if the pointer would be a valid pointer for the expected type. A &lt;code&gt;char*&lt;/code&gt; can point to 1 byte boundaries, an &lt;code&gt;int*&lt;/code&gt; however only to 4 byte boundaries and so on. If you dont know any types, there is nothing you can do.&lt;/p&gt;\n\n&lt;p&gt;Also get rid of those magic numbers. Give them names.&lt;/p&gt;\n&lt;/div&gt;",
                        "can_gild": true,
                        "can_mod_post": false,
                        "collapsed": false,
                        "collapsed_because_crowd_control": null,
                        "collapsed_reason": null,
                        "collapsed_reason_code": null,
                        "comment_type": null,
                        "controversiality": 0,
                        "created": 1630837470.0,
                        "created_utc": 1630837470.0,
                        "depth": 0,
                        "distinguished": null,
                        "downs": 0,
                        "edited": false,
                        "gilded": 0,
                        "gildings": {},
                        "id": "hbo7qu1",
                        "is_submitter": false,
                        "likes": null,
                        "link_id": "t3_pi8lhg",
                        "locked": false,
                        "mod_note": null,
                        "mod_reason_by": null,
                        "mod_reason_title": null,
                        "mod_reports": [],
                        "name": "t1_hbo7qu1",
                        "no_follow": true,
                        "num_reports": null,
                        "parent_id": "t3_pi8lhg",
                        "permalink": "/r/cpp_questions/comments/pi8lhg/how_do_i_check_if_a_pointer_is_valid/hbo7qu1/",
                        "removal_reason": null,
                        "replies": "",
                        "report_reasons": null,
                        "saved": false,
                        "score": 1,
                        "score_hidden": true,
                        "send_replies": true,
                        "stickied": false,
                        "subreddit": "cpp_questions",
                        "subreddit_id": "t5_2tdbd",
                        "subreddit_name_prefixed": "r/cpp_questions",
                        "subreddit_type": "public",
                        "top_awarded_type": null,
                        "total_awards_received": 0,
                        "treatment_tags": [],
                        "ups": 1,
                        "user_reports": []
                    },
                    "kind": "t1"
                }
            ],
            "dist": null,
            "geo_filter": "",
            "modhash": null
        },
        "kind": "Listing"
    }
]
